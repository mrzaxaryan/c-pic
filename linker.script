PHDRS {
    text PT_LOAD FLAGS(5);   /* R + X */
}

SECTIONS {
    .text : ALIGN(1) SUBALIGN(1)
    {
        KEEP(*(.text$main)) /* Simple hack to keep main at the start of .text section */
        *(.text*)           /* Rest of the .text section */
        *(.rodata*)         /* Read-only data section */
    } : text
}